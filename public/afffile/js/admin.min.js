$(document).ready(function() {

    //Скрытие label авторизация/регистрация
    var input = $('.sing_in_form .sign_form_row input');

    $(input).change(function() {
        if($(this).val() !='') {
            $(this).next('label').addClass('none');
        } else {
            $(this).next('label').removeClass('none');
        }
    });

    //Показать подсказку на значок вопроса

    $('.question_icon').click(function(e) {
        e.preventDefault();
        $(this).next('.question_fon').toggleClass('show_fon').next('.question_block_hidden').toggleClass('open_question');
    });

    // $(document).on('click touchstart', function(e) {
    //     if (!$(e.target).closest(".question").length) {
    //         $('.question_block_hidden').removeClass('open_question');
    //     }
    //     e.stopPropagation();
    // });

    $('.question_fon').click(function(e) {
        e.preventDefault();
        $(this).next('.question_block_hidden').removeClass('open_question');
        $(this).removeClass('show_fon');
    });

    $('.question_block_ok').click(function() {
        $('.question_block_hidden').removeClass('open_question');
        $('.question_fon').removeClass('show_fon');
        return false;
    });

    //Показать модальное окно
    $('.add_domain button').click(function() {
       $('.add_domain_modal').addClass('show_modal');
       //$('body, html').addClass('overflow');
       return false;
    });

    //Скрыть модальное окно
    $('.domain_modal_fon').click(function(){
        $('.add_domain_modal').removeClass('show_modal');
        $('.question_fon').removeClass('show_fon');
        $('.question_block_hidden').removeClass('open_question');
        //$('body, html').removeClass('overflow');
    });


    //Табы на странице Domain
    $('.notification_tabs ul').on('click', 'li:not(.active)', function() {
        $(this)
            .addClass('active').siblings().removeClass('active')
            .closest('div.notification_tabs').find('div.notification_tabs_content').removeClass('active').eq($(this).index()).addClass('active');
    });


    //Показать код скрипта
    $('.view_code_link').click(function() {
        $('.code_block_content').slideDown();
        $(this).addClass('opacity');
        $('.hide_code_link').removeClass('opacity');
        return false;
    });

    //Скрыть код скрипта
    $('.hide_code_link').click(function() {
        $('.code_block_content').slideUp();
        $(this).addClass('opacity');
        $('.view_code_link').removeClass('opacity');
        return false;
    });

    //Копирование кода
    // var clipboard = new ClipboardJS('.copy_link p');
    //
    // clipboard.on('success', function(e) {
    //     console.log(e);
    // });
    //
    // clipboard.on('error', function(e) {
    //     console.log(e);
    // });


    //Контакты
    $('.contacts_link').click(function() {
       $('.contacts_block').addClass('show_contacts');
       $('body,html').addClass('overflow');
       return false;
    });

    $('.contacts_block_fon').click(function() {
        $('.contacts_block').removeClass('show_contacts');
        $('body,html').removeClass('overflow');
    });

    //Табы в метрике
    $('.metrics_tabs ul').on('click', 'li:not(.active)', function() {
        $(this)
            .addClass('active').siblings().removeClass('active')
            .closest('div.metrics_tabs').find('div.metrics_tabs_content').removeClass('active').eq($(this).index()).addClass('active');
    });

    //Метрика
    $('.metrics_link').click(function() {
        $('.metrics_block').addClass('show_metrics');
        $('body,html').addClass('overflow');
        return false;
    });

    $('.metrics_block_fon').click(function() {
        $('.metrics_block').removeClass('show_metrics');
        $('body,html').removeClass('overflow');
    });

//Показать/Скрыть блок с вводом кода на странице Sign Up
    $('input#bonus_code').change(function() {
        if($(this).is(':checked')) {
            $('.bonus_row_input ').slideDown();
        } else {
            $('.bonus_row_input ').slideUp();
        }
    });

//Если выбран notification - показать тариф
    $('input.check_campaign').change(function() {
       if($(this).is(':checked')) {
           $(this).closest('.dashboard_campaign_title').next('.dashboard_choose_rate').slideDown();
       } else {
           $(this).closest('.dashboard_campaign_title').next('.dashboard_choose_rate').slideUp();
       }
    });

//Открытие/закрытие выбора тарифа на странице Dashboard
    $('.choose_rate_value').click(function() {
       $(this).next('.choose_rate_list').toggleClass('show_choose_list');
    });

//Изменение текста выбранного тарифа и закрытие блока с тарифами
    $('.choose_rate_list li').click(function() {
        var name_rate = $(this).find('.name_rate').text();
        var settings_rate = $(this).find('.settings_rate').text();
        var cost_rate = $(this).find('.cost_rate').text();
        console.log(name_rate);
        console.log(settings_rate);
        $(this).closest('.dashboard_choose_rate').find('.choose_rate_value').find('p.choose_rate_name').text(name_rate).addClass('no_active');
        $(this).closest('.dashboard_choose_rate').find('.choose_rate_value').find('p.choose_rate_settings').text(settings_rate);
        $(this).closest('.dashboard_choose_rate').find('.choose_rate_value').find('p.choose_rate_cost').text(cost_rate);
        $(this).closest('.choose_rate_list').removeClass('show_choose_list');
        //console.log(name_rate);
    });


//Изменение текста в кнопке на странице affiliate
    $('.transfer_money_radio input').change(function() {
        console.log($(this).val());
        if($(this).val() == 'transfer_withdraw') {
            console.log($(this).val());
            $('.count_transfer_money button.btn_transfer_balance').removeClass('show');
            $('.count_transfer_money button.btn_transfer_withdraw').addClass('show');
        } else {
            $('.count_transfer_money button.btn_transfer_balance').addClass('show');
            $('.count_transfer_money button.btn_transfer_withdraw').removeClass('show');
        }
    });

//Открытие/закрытие блока referrals information
    $('.referrals_information_link').click(function() {
        $('.referrals_information_block').addClass('show_referrals');
        $('body,html').addClass('overflow');
        return false;
    });

    $('.referrals_block_fon').click(function() {
        $('.referrals_information_block').removeClass('show_referrals');
        $('body,html').removeClass('overflow');
    });

 //Открытие/закрытие блока payment history
    $('.payment_history_link').click(function() {
        $('.payment_history_block').addClass('show_referrals');
        $('body,html').addClass('overflow');
        return false;
    });

    $('.payment_block_fon').click(function() {
        $('.payment_history_block').removeClass('show_referrals');
        $('body,html').removeClass('overflow');
    });

//Показать/Скрыть соц иконки что бы поделиться ссылкой на странице affiliate
    $('.share_link_icon').click(function() {
       $('.share_social_block').fadeToggle('fast');
       return false;
    });
    $(document).on('click', function(e) {
        if (!$(e.target).closest(".share_link_bonus").length) {
            $('.share_social_block').fadeOut('fast');
        }
        e.stopPropagation();
    });

//Показать/Скрыть блок с вводом кода на странице Top Up
    $('input#topUp_bonus_code').change(function() {
        if($(this).is(':checked')) {
            $('.topUp_bonus_input ').slideDown('fast');
        } else {
            $('.topUp_bonus_input ').slideUp('fast');
        }
    });


    $('.domain_list_head').click(function() {
       $(this).next('.domain_list_body').fadeIn();
       $(this).addClass('active');
       return false;
    });

    $('.hide_details').click(function() {
        $(this).closest('.domain_list_head').removeClass('active').next('.domain_list_body').fadeOut();
        return false;
    });



 //Табы на странице Billing
    $('.dashboard_tabs_next a').on('click', function() {
        $(this).closest('.dashboard_fixed_tabs').find('.dashboard_fixed_tabs_link.active').removeClass('active').next('li').addClass('active');
        $(this).closest('.dashboard_fixed_tabs').find('.dashboard_fixed_tabs_content.active').removeClass('active').next('div').addClass('active');
        return false;
    });


    $('.dashboard_select_payment_item').click(function() {
       $(this).addClass('active').siblings().removeClass('active');
    });

    $('.top_up_payment_item').click(function() {
        $(this).addClass('active').siblings().removeClass('active');
    });

    $('.topUp_link a, .topUp_balance_input form button').click(function() {
       $('.top_up_payment_modal').addClass('show_modal');
        return false;
    });

    //Скрыть модальное окно
    $('.top_up_payment_modal_fon, .top_up_payment_next a').click(function(){
        $('.top_up_payment_modal').removeClass('show_modal');
        return false;
    });


    $('.sidebar').scrollbar();

    $('.dashboard_check_list').scrollbar();


    $('.link_disabled_fon a').click(function() {
        $('.active_domain_block').addClass('show_active_domain');
        $('body,html').addClass('overflow');
        return false;
    });

    $('.active_domain_fon').click(function() {
        $('.active_domain_block').removeClass('show_active_domain');
        $('body,html').removeClass('overflow');
        $('.active_domain_plan_item').removeClass('active').fadeIn();
        $('.change_active_domain_plan').fadeOut();
        $('.active_domain_payment').fadeOut();
        $('.active_domain_link').fadeOut();
    });


    $('.active_domain_plan_item').click(function() {
        $(this).addClass('active').siblings().removeClass('active');
        $('.active_domain_plan_item').fadeOut('fast');
        $('.active_domain_payment').fadeIn();
        $('.change_active_domain_plan').fadeIn();
    });

    $('.active_domain_payment_item').click(function() {
        $(this).addClass('active').siblings().removeClass('active');
        $('.active_domain_link').fadeIn();
    });

    $('.change_active_domain_plan').click(function() {
        $('.active_domain_plan_item').fadeIn('fast');
        $('.active_domain_link').fadeOut();
        $('.active_domain_payment_item').removeClass('active');
        $(this).fadeOut();
    });



})